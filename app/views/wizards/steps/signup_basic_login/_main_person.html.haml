= f.fields_for(entry.step_at(step_index).step_name, entry.step_at(step_index)) do |ff|
  = ff.error_messages
  = ff.labeled(:gender) do
    = field_set_tag(nil, class: 'm-0 p-0') do
      - (Person::GENDERS + ['']).each do |key|
        = ff.inline_radio_button(:gender, key, ff.object.salutation_label(key))
  = ff.labeled_input_fields :first_name, :last_name
  = ff.labeled_date_field :birthday
  
  = render 'contactable/address_fields', f: ff
  = ff.labeled_input_field(:phone_number, placeholder: ti('.phone_placeholder'))
  
  = ff.labeled(:others, '&nbsp;'.html_safe) do
    = ff.label(:newsletter, class: 'd-block mt-2') do
      = ff.check_box :newsletter
      = t('.newsletter')
    - %w(statutes data_protection).each do |key|
      = render 'agreement_link', f: ff, key: key, link: link_to(*ff.object.link_translations(key))

.btn-toolbar.bottom.allign-with-form
  = c.navigation_links

= render 'shared_partial'
