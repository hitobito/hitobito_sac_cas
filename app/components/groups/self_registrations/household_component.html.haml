-#  Copyright (c) 2023, Schweizer Alpen-Club. This file is part of
-#  hitobito_sac_cas and licensed under the Affero General Public License version 3
-#  or later. See the COPYING file at the top-level directory or at
-#  https://github.com/hitobito/hitobito_sac_cas.

.well
  = t('sac_cas.groups.self_registration.household.membership_info_box')

= field_set_tag do
  = form.nested_fields_for :housemates, nil, nil, model_object: Groups::SelfRegistrations::Housemate.new, data: { action: stimulus_action(:toggleHousemateButtons), mode: :add} do |f|
    = field_set_tag do
      = render('shared/error_messages', errors: f.object.errors, object: f.object)
      = f.labeled_input_fields :first_name, :last_name, { required: required }
      = f.labeled_input_field :email, help_inline: t('people.email_field.used_as_login'), required: required
      = field_set_tag do
        = f.labeled(:gender, required: required) do
          - (Person::GENDERS + ['']).each do |key|
            = f.inline_radio_button(:gender, key, f.object.gender_label(key))

      = f.labeled_date_field :birthday, required: required
      .control-group
        .controls
          = f.link_to_remove(I18n.t('global.associations.remove'), { href: '#', data: { action: stimulus_action(:toggleHousemateButtons), mode: :remove }})
